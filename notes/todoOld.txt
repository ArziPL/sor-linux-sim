1. Ctrl + C - logowanie, pierwsze manager, potem director?
2. Ctrl + C nie loguje się do pliku

3. 
MSG CONTROL - zostawić trochę miejsca w kolejce do budynku. Nie korzystać
z IPC_NOWAIT. Dodatkowy semafor w dostępie do kolejki. Zostawić dodatkowe nieużywane miejsce w kolejce i sprawdzać czy rzeczywiście jest miejsce

Ma nie nastąpić blokada na kolejce komunikatów + proces ma cały czas działać.
Procesy czekają i nie blokują się NIE UŻYWAJĄC IPC_NOWAIT. Ma być 
semafor pilnujący lub dodatkowe miejsce w kolejce

Zamykać pipy/łącza po tworzeniu procesów (?)

Procesy zombie - waitpid() wait() inne waity, czy wszystko dobrze się czyści?


4.
Stan obecny:

Kolejka rejestracji: chroniona semaforami REG_SLOTS/ITEMS/MUTEX (brak IPC_NOWAIT).
Kolejka do triażu: msgsnd blokujące, msgrcv w triażu blokujące (brak IPC_NOWAIT).
Kolejki do lekarzy: triaż wysyła blokującym msgsnd; lekarze odbierają pętlą z IPC_NOWAIT (żeby nie wisieć na jednym priorytecie) – to łamie założenie „bez IPC_NOWAIT”.
Brak semafora pilnującego pojemności kolejki do lekarzy; jeśli MSGQ się zapcha, msgsnd może się zablokować.
Pacjenci czekają na WAITROOM na semaforze (blokujące semop), nie na kolejce komunikatów.
Jak jest vs. jak powinno być wg TODO:

TODO mówi: „Procesy czekają i nie blokują się NIE UŻYWAJĄC IPC_NOWAIT. Ma być semafor pilnujący lub dodatkowe miejsce w kolejce.”
Obecnie lekarze korzystają z IPC_NOWAIT; nie ma semafora pojemności do ich kolejki.
Jeśli chcemy spełnić TODO:
Zamiast IPC_NOWAIT w lekarzach – dodać semafor/licznik dla każdej kolejki (np. DOC_SLOTS[spec], DOC_ITEMS[spec]) albo jeden globalny na mtype-y, i odbierać blokująco msgrcv na właściwych typach w ustalonej kolejności priorytetów.
Dodać „zapasowe” miejsce: np. ustawić większy msg_qbytes (msgctl) lub semafor o wartości > liczba realnych slotów, by nie blokować przy wysyłaniu.
Upewnić się, że msgsnd do lekarzy nie wisi – albo przez semafor na SLOTS, albo powiększenie msg_qbytes.
Rekomendacja szybkiego planu:

Usunąć IPC_NOWAIT w doctor.cpp, wrócić do blokujących msgrcv, ale poprzedzić to semaforem/licznikiem pojemności na kolejkę lekarzy, żeby triaż nie zawieszał się na msgsnd.
Dodać semafory DOC_SLOTS / DOC_ITEMS (analogicznie do rejestracji) albo jeden wspólny per-specjalizacja, i korzystać z nich w triażu (P(SLOTS) przed msgsnd, V(ITEMS) po) oraz w lekarzu (P(ITEMS) przed msgrcv, V(SLOTS) po).
Opcjonalnie powiększyć msg_qbytes dla kolejki lekarzy na starcie (msgctl(msgid, IPC_STAT/SET, ...)) jako bufor bezpieczeństwa.
Jeśli chcesz, mogę zaimplementować wariant z semaforami SLOTS/ITEMS dla kolejki lekarzy, usuwając IPC_NOWAIT i zostawiając priorytety (czerwony>żółty>zielony) blokująco.



5.
Pętle while złe? Semafory i kolejki komunikatów, wait semaforowe działa inaczej, należy korzystać z wait semaforowego, nie WHILE.

6.
Sygnały asynchroniczne, nie ważne gdzie jest, jak dostaje sygnał ma od razu ją obsłużyć

7. 
Magazyny muszą istnieć fizycznie. Pacjent musi zajmować bajty? 
Magazyn ma swoją pojemność. Musi być określona. Kolejka pacjentów do rejestracji?

Kolejka komunikatów do zbierania logów - źle

Założenia projektu wymagają blokujących operacji na kolejkach zamiast IPC_NOWAIT. Obecne rozwiązanie narusza to, biorąc pod uwagę szczególnie kolejkę logów – powinno się tam użyć blokującego msgrcv z odpowiednimi semaforami.

8.
Dziecko ma zajmować dwa miejsca w pamięci!!!

9. Pamięć dzielona - liczba przyłączeń?

10. Miejsca w kolejce zwalnianie dopiero po triażu! (wchodzi do kolejki, do rejstracji, do triażu, przekierowany do kolejki lekarza + zwalnia kolejke)

11. 
Dziecko to proces, który ma 2 wątki. Rodzica i dziecka. Do triażu kierowany jest przez wątek rodzica (rodzica prowadzi dziecko, gdzie ma iść), po trafieniu na triaż badany przez lekarza komunikuje się z wątkiem dziecka, nie rodzica.

Rodzica -> wejście do budynku, podejście do rejstracji, podejście do triażu
Dziecko -> zmiana, dziecko jest badane

Utworzona globalnie żeby mogli się komunikować (dziecko). Może się komunikowa z wątkiem rodzica, ale musi być struktura dziecka, która trzyma profil pacjenta

BŁĘDY KRYTYCZNE

- przestaje działać/ blokuje zakleszcza
- działa bardzo dobrze/dobrze/dostatecznie?
- braki w zadaniu obniżają liczbe punktów (brak VIP)
- 


12.
htop nie może zawalać wątków procesora (while drepczą, czekając)
Test, ./sor --interval bardzo mały albo projekt bez usleep/sleep ma nie zapychać procesora. (obecnie zapycha)

Bardzo niski interval powoduje LOG ERROR - nie mogę wysłać do MSGQ